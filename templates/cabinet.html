{% extends 'base.html' %}
{% load static %}

{% block title %}Личный кабинет — {% if user.first_name or user.last_name %}
    {{ user.first_name }} {{ user.last_name }}
{% else %}
    {{ user.username }}
{% endif %}
{% endblock %}

{% block content %}
<div class="row mt-header">
    <div class="col-lg-3 d-flex flex-column nav nav-pills">
        <a href="{% url 'cabinet' %}" 
           class="ps-0 btn bg-white fs_24 shadow-none SelfStorage_orange SelfStorage_tab active">
            Личный кабинет
        </a>
        <a href="#" 
           class="ps-0 btn bg-white fs_24 shadow-none SelfStorage_grey SelfStorage_tab">
            Моя аренда
        </a>
        <a href="{% url 'faq' %}" 
           class="btn fs_24 shadow-none text-decoration-none SelfStorage_grey SelfStorage_tab">
            FAQ
        </a>
        <a href="{% url 'logout' %}" 
           class="btn fs_24 shadow-none text-decoration-none SelfStorage_grey SelfStorage_tab">
            Выйти
        </a>
    </div>
    
    <div class="col-lg-9">
        <div class="card p-5">
            <div class="row">
                <!-- Аватар и имя -->
                <div class="col-12 col-sm-5 d-flex flex-column align-items-center">
                    <img src="{% static 'img/avatar_default.png' %}" 
                         class="rounded-pill mb-3" 
                         alt="{{ user.username }}" 
                         width="150" 
                         height="150">
                    <h4>{{ user.get_full_name|default:user.username }}</h4>
                </div>
                
                <!-- Данные профиля -->
                <div class="col-12 col-sm-7 d-flex flex-column">
                    <div class="mb-4">
                        <label class="fs_24 SelfStorage_green">Имя</label>
                        <div class="fs_24">{{ user.first_name|default:'Не указано' }}</div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="fs_24 SelfStorage_green">Фамилия</label>
                        <div class="fs_24">{{ user.last_name|default:'Не указана' }}</div>
                    </div>
                    <div class="mb-4">
                        <label class="fs_24 SelfStorage_green">Электронная почта</label>
                        <div class="fs_24">{{ user.email }}</div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="fs_24 SelfStorage_green">Телефон</label>
                        <div class="fs_24">{{ profile.phone|default:'Не указан' }}</div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="fs_24 SelfStorage_green">Адрес доставки</label>
                        <div class="fs_24">{{ profile.address|default:'Не указан' }}</div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="fs_24 SelfStorage_green">Дата регистрации</label>
                        <div class="fs_24">{{ profile.created_at|date:"d.m.Y" }}</div>
                    </div>
                    
                    <div class="d-flex gap-3 mt-4">
                        <button class="btn SelfStorage_orange ps-3" disabled>
                            Редактировать
                        </button>
                        <small class="text-muted">
                            Функция редактирования будет доступна позже
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}